/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";var t="/not-fight-club/",e=t+"assets/images/character_frodo.jpg",n={player:{name:"",avatar:"",wins:0,loses:0,health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},avatars:[{avatarName:"frodo",health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},{avatarName:"aragorn",health:100,maxHealth:100,attack:12,critChance:.15,critMultiplier:1.25,attackZones:2,defendZones:2},{avatarName:"legolas",health:100,maxHealth:100,attack:18,critChance:.25,critMultiplier:1.35,attackZones:2,defendZones:1},{avatarName:"gandalf",health:150,maxHealth:150,attack:15,critChance:.1,critMultiplier:1.15,attackZones:2,defendZones:2}],battle:{playerAttack:[],playerDefend:[],enemyAttack:[],enemyDefend:[],log:[]},enemy:{},enemies:[{name:"Spider",avatar:t+"assets/images/enemy_spider.jpg",health:80,maxHealth:80,attack:12,critChance:.25,critMultiplier:1.5,attackZones:2,defendZones:1},{name:"Troll",avatar:t+"assets/images/enemy_troll.jpg",health:120,maxHealth:120,attack:8,critChance:.1,critMultiplier:2,attackZones:1,defendZones:3},{name:"Knight",avatar:t+"assets/images/enemy_knight.jpg",health:100,maxHealth:100,attack:10,critChance:.15,critMultiplier:1.5,attackZones:1,defendZones:2},{name:"Sauron",avatar:t+"assets/images/enemy_sauron.jpg",health:150,maxHealth:150,attack:15,critChance:.15,critMultiplier:1.5,attackZones:2,defendZones:2}]};function r(){localStorage.setItem("notFightClubGame",JSON.stringify(n))}function a(){var t=localStorage.getItem("notFightClubGame");if(t){var e=JSON.parse(t);Object.assign(n,e)}}var o=t+"assets/images/character_gandalf.jpg",c=t+"assets/images/character_aragorn.jpg",i=t+"assets/images/character_legolas.jpg";function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,s=Object.create(u.prototype);return l(s,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),s}var c={};function i(){}function s(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(l(e={},r,function(){return this}),e),d=f.prototype=i.prototype=Object.create(p);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=f,l(d,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,a,"GeneratorFunction"),l(d),l(d,a,"Generator"),l(d,r,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:h}})()}function l(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}l=function(t,e,n,r){function o(e,n){l(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},l(t,e,n,r)}function s(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){s(o,r,a,c,i,"next",t)}function i(t){s(o,r,a,c,i,"throw",t)}c(void 0)})}}var p=null,d=null,h=null,v=null;function y(){document.querySelector('[data-popup="character_change"]');var t=document.querySelector("[data-character_edit_container]"),e=document.querySelector("[data-character_avatar]"),r=document.querySelector("[data-character_avatar_btn]"),a=document.querySelector("[data-character_avatar_img]"),o=document.querySelector("[data-character_name]"),c=document.querySelector("[data-result_wins]"),i=document.querySelector("[data-result_loses]");a.src=n.player.avatar,o.textContent=n.player.name,c.textContent=n.player.wins,i.textContent=n.player.loses;var l="character__avatar-edit-container--active";t.classList.remove(l),p&&e.removeEventListener("mouseover",p),d&&e.removeEventListener("mouseout",d),h&&t.removeEventListener("click",h),v&&r.removeEventListener("click",v),p=function(e){t.classList.add(l)},d=function(e){t.classList.remove(l)},h=function(){var t=f(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,At("./views/popup_character.html");case 1:return t.n=2,D('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=f(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,At("./views/popup_character.html");case 1:return t.n=2,D('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),e.addEventListener("mouseover",p),e.addEventListener("mouseout",d),t.addEventListener("click",h),r.addEventListener("click",v)}function m(t){return t[0].toUpperCase()+t.slice(1)}function _(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return g(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(g(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,g(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,g(f,"constructor",l),g(l,"constructor",u),u.displayName="GeneratorFunction",g(l,a,"GeneratorFunction"),g(f),g(f,a,"Generator"),g(f,r,function(){return this}),g(f,"toString",function(){return"[object Generator]"}),(_=function(){return{w:o,m:p}})()}function g(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}g=function(t,e,n,r){function o(e,n){g(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},g(t,e,n,r)}function b(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function k(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){b(o,r,a,c,i,"next",t)}function i(t){b(o,r,a,c,i,"throw",t)}c(void 0)})}}function w(){return S.apply(this,arguments)}function S(){return S=k(_().m(function t(){return _().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll("[data-link]").forEach(function(t){t.dataset.link,t.addEventListener("click",function(){var e=k(_().m(function e(n){var r;return _().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Tt(n);case 1:r=t.dataset.page_btn,document.querySelector("[data-page_title]").textContent=m(r);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())});case 1:return t.a(2)}},t)})),S.apply(this,arguments)}function O(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return j(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(j(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,j(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,j(f,"constructor",l),j(l,"constructor",u),u.displayName="GeneratorFunction",j(l,a,"GeneratorFunction"),j(f),j(f,a,"Generator"),j(f,r,function(){return this}),j(f,"toString",function(){return"[object Generator]"}),(O=function(){return{w:o,m:p}})()}function j(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}j=function(t,e,n,r){function o(e,n){j(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},j(t,e,n,r)}function E(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}var x=null;function L(){return T.apply(this,arguments)}function T(){return(t=O().m(function t(){var e,n;return O().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-toolbar_burger]"),n=document.querySelector("[data-toolbar_nav]"),document.querySelectorAll("[data-link]"),x&&e.removeEventListener("click",x),x=function(t){n.classList.toggle("toolbar__right--active"),e.classList.toggle("toolbar-burger--active")},e.addEventListener("click",x);case 1:return t.a(2)}},t)}),T=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){E(o,r,a,c,i,"next",t)}function i(t){E(o,r,a,c,i,"throw",t)}c(void 0)})}).apply(this,arguments);var t}function q(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return G(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(G(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,G(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,G(f,"constructor",l),G(l,"constructor",u),u.displayName="GeneratorFunction",G(l,a,"GeneratorFunction"),G(f),G(f,a,"Generator"),G(f,r,function(){return this}),G(f,"toString",function(){return"[object Generator]"}),(q=function(){return{w:o,m:p}})()}function G(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}G=function(t,e,n,r){function o(e,n){G(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},G(t,e,n,r)}function P(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function C(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){P(o,r,a,c,i,"next",t)}function i(t){P(o,r,a,c,i,"throw",t)}c(void 0)})}}var Z=null,F=null,M=null,N=null,H=null,A=null,z=null;function D(t){return B.apply(this,arguments)}function B(){return B=C(q().m(function t(a){var u,l,s,f,p,d,h,v,m,_,g;return q().w(function(t){for(;;)switch(t.n){case 0:u=document.querySelector("body"),l=document.querySelector(a),s=l.querySelector("[data-popup_container]"),f=[{opacity:"0"},{opacity:"1"}],p={duration:400,fill:"forwards"},s.animate(f,p),l.classList.add("popup--active"),u.classList.add("lock"),d=document.querySelector('[data-avatar_name="frodo"]'),h=document.querySelector('[data-avatar_name="gandalf"]'),v=document.querySelector('[data-avatar_name="aragorn"]'),m=document.querySelector('[data-avatar_name="legolas"]'),Z&&l.removeEventListener("click",Z),F&&d&&d.removeEventListener("click",F),M&&h&&h.removeEventListener("click",M),N&&v&&v.removeEventListener("click",N),H&&m&&m.removeEventListener("click",H),Z=function(t){var e=t.target;e.closest(".popup__container")||(I(a),'[data-popup="results"]'===a&&(lt(),ut(),r())),e.closest(".popup__close")&&(I(a),'[data-popup="results"]'===a&&(lt(),ut(),r()))},F=function(t){n.player.avatar=e,J("frodo"),y(),r(),I('[data-popup="character_change"]')},M=function(t){n.player.avatar=o,J("gandalf"),y(),r(),I('[data-popup="character_change"]')},N=function(t){n.player.avatar=c,J("aragorn"),y(),r(),I('[data-popup="character_change"]')},H=function(t){n.player.avatar=i,J("legolas"),y(),r(),I('[data-popup="character_change"]')},l.addEventListener("click",Z),d&&h&&v&&m&&(d.addEventListener("click",F),h.addEventListener("click",M),v.addEventListener("click",N),m.addEventListener("click",H)),_=document.querySelector("[data-popup_results_btn_fight]"),g=document.querySelector("[data-popup_results_btn_character]"),A&&_&&_.removeEventListener("click",A),z&&g&&g.removeEventListener("click",z),z=function(){var t=C(q().m(function t(e){return q().w(function(t){for(;;)switch(t.n){case 0:return I('[data-popup="results"'),lt(),ut(),t.n=1,Nt("./views/character.html");case 1:return t.n=2,At("./views/toolbar.html");case 2:y(),r();case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),A=function(t){I('[data-popup="results"'),lt(),ut(),r()},_&&g&&(_.addEventListener("click",A),g.addEventListener("click",z));case 1:return t.a(2)}},t)})),B.apply(this,arguments)}function I(t){var e=document.querySelector(t),n=e.querySelector("[data-popup_container]"),r=document.querySelector("body"),a=n.animate([{opacity:"1"},{opacity:"0"}],{duration:400,fill:"forwards"}),o=document.querySelector('[data-popup="character_change"]');a.addEventListener("finish",function(){r.classList.remove("lock"),e.classList.remove("popup--active"),e.remove(),o&&y(),L(),w()})}function J(t){var e=n.avatars.find(function(e){return e.avatarName===t});n.player.attack=e.attack,n.player.attackZones=e.attackZones,n.player.defendZones=e.defendZones,n.player.critChance=e.critChance,n.player.critMultiplier=e.critMultiplier,n.player.maxHealth=e.maxHealth,n.player.health=e.health,r()}var U=t+"assets/icons/cup.svg",K=t+"assets/icons/lose.svg",Q=t+"assets/sounds/click.mp3",R=t+"assets/sounds/fight.mp3";function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=new Audio;return n.src=t,n.volume=e,n}function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,e=document.querySelectorAll("[data-sound]"),n=V(Q,t),r=V(R,t);e.forEach(function(t){var e=t.dataset.sound;t.addEventListener("click",function(t){"click"===e&&n.play(),"fight"===e&&r.play()})})}var X=t+"assets/sounds/win.mp3",Y=t+"assets/sounds/lose.mp3";function $(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return tt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(tt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,tt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,tt(f,"constructor",l),tt(l,"constructor",u),u.displayName="GeneratorFunction",tt(l,a,"GeneratorFunction"),tt(f),tt(f,a,"Generator"),tt(f,r,function(){return this}),tt(f,"toString",function(){return"[object Generator]"}),($=function(){return{w:o,m:p}})()}function tt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}tt=function(t,e,n,r){function o(e,n){tt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},tt(t,e,n,r)}function et(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}var nt,rt,at=null,ot=null,ct=null,it=!1;function ut(){var t=document.querySelector("[data-battle_log]");if(n.enemy.name)n.battle.log.forEach(function(t){t.isCrit&&t.isBlocked?m(t):t.isBlocked?_(t):m(t)});else{var e=Math.floor(Math.random()*n.enemies.length);n.enemy=JSON.parse(JSON.stringify(n.enemies[e])),r()}S();var a=document.querySelector("[data-battle_controls_attack_btn]");a.disabled=!0;var o=document.querySelector("[data-battle_zone_attack]"),c=document.querySelector("[data-battle_zone_defence]"),i=o.querySelectorAll("input"),u=c.querySelectorAll("input");i.forEach(function(t){t.checked=!1}),u.forEach(function(t){t.checked=!1}),at&&o.removeEventListener("click",at),ot&&c.removeEventListener("click",ot);var l=n.player.attackZones,s=[];at=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=o.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_attack_radio]")&&(e.checked&&s.length<l&&s.push(e),e.checked||(e.checked=!1,s=s.filter(function(t){return t!=e})),n>l&&(s.shift().checked=!1,s.push(e))),d()}};var f=n.player.defendZones,p=[];function d(){l===s.length&f===p.length?a.disabled=!1:a.disabled=!0}ot=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=c.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_defence_radio]")&&(e.checked&&p.length<f&&p.push(e),e.checked||(e.checked=!1,p=p.filter(function(t){return t!=e})),n>f&&(p.shift().checked=!1,p.push(e))),d()}},o.addEventListener("click",at),c.addEventListener("click",ot),ct&&a.removeEventListener("click",ct),ct=function(t){var e,a,o=[],c=[];s.forEach(function(t){o.push(t.dataset.battle_zone_attack_input)}),p.forEach(function(t){c.push(t.dataset.battle_zone_defence_input)}),(e=n.battle.playerAttack).push.apply(e,o),(a=n.battle.playerDefend).push.apply(a,c),function(){for(var t=0;n.battle.enemyAttack.length<n.enemy.attackZones;t++){var e=Math.floor(Math.random()*h.length);n.battle.enemyAttack.includes(h[e])||n.battle.enemyAttack.push(h[e])}}(),function(){for(var t=0;n.battle.enemyDefend.length<n.enemy.defendZones;t++){var e=Math.floor(Math.random()*h.length);n.battle.enemyDefend.includes(h[e])||n.battle.enemyDefend.push(h[e])}}(),r(),v(),n.battle.playerAttack=[],n.battle.playerDefend=[],n.battle.enemyAttack=[],n.battle.enemyDefend=[],r()},a.addEventListener("click",ct);var h=["head","neck","body","belly","legs"];function v(){y("player"),n.enemy.health>=1&&y("enemy")}function y(t){var e,r;"player"===t?(e="player",r="enemy"):"enemy"===t&&(e="enemy",r="player");var a=e+"Attack",o=r+"Defend";n.battle[a].forEach(function(t){var a=n.player.critChance>Math.random(),c=a?Math.floor(n[e].attack*n[e].critMultiplier):n[e].attack,i="player"===e,u=i?"character":"enemy",l=i?"enemy":"character",s={attackerName:n[e].name,defenderName:n[r].name,attackZone:t,isCrit:a,damage:c,isBlocked:n.battle[o].includes(t),attackingCharacterSpan:u,defendingCharacterSpan:l,characterAttack:e,characterDefend:r};n.battle.log.push(s),s.isCrit&&s.isBlocked?m(s):s.isBlocked?_(s):m(s),function(t,e){n[t].health=n[t].health-e,S()}(s.characterDefend,c)})}function m(e){e.damage,e.characterDefend;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.isCrit,o=t.damage,c=t.isBlocked,i=t.attackingCharacterSpan,u=t.defendingCharacterSpan,l=r[0].toUpperCase()+r.slice(1);return a&&c?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            tried to block but <span class="battle__log-item-').concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span> was very lucky and crit his opponent for <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):a?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and crit\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and deal\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function _(e){e.attackerName,e.defenderName,e.attackZone;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.attackingCharacterSpan,o=t.defendingCharacterSpan,c=r[0].toUpperCase()+r.slice(1);return'\n            <span class="battle__log-item-'.concat(a,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,'</span>\n            but <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            was able to <span class="battle__log-item-defend battle__log-item-span" data-battle_log_protect_span>protect</span>\n            his  <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,"</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function g(t){return b.apply(this,arguments)}function b(){var e;return e=$().m(function e(n){var r,a,o,c;return $().w(function(e){for(;;)switch(e.n){case 0:return r=t.scrollTop,e.n=1,At("./views/popup_results.html");case 1:(a=document.querySelector("[data-battle_log]"))&&(a.scrollTop=r),document.querySelector('[data-popup="results"]'),o=document.querySelector("[data-popup__title]"),(c=document.createElement("img")).classList.add("popup__results-icon"),"win"===n?(c.src=U,o.textContent="Congratulations with your win!",o.append(c),w(),D('[data-popup="results"]'),V(X,.1).play()):(c.src=K,o.textContent="Maybe next time",o.append(c),k(),D('[data-popup="results"]'),V(Y,.1).play());case 2:return e.a(2)}},e)}),b=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(t){et(o,r,a,c,i,"next",t)}function i(t){et(o,r,a,c,i,"throw",t)}c(void 0)})},b.apply(this,arguments)}function k(){n.player.loses=n.player.loses+1,r()}function w(){n.player.wins=n.player.wins+1,r()}function S(){var t=document.querySelector("[data-battle_character_avatar_img]"),e=document.querySelector("[data-battle_character_name]"),r=document.querySelector("[data-battle_character_current_health]"),a=document.querySelector("[data-battle_character_total_health]"),o=document.querySelector("[data-battle_attack_amount]"),c=document.querySelector("[data-battle_defence_amount]");o.textContent=n.player.attackZones,c.textContent=n.player.defendZones;var i=document.querySelector("[data-avatar_health_bg]"),u=document.querySelector("[data-enemy_health_bg]");t.src=n.player.avatar,e.textContent=n.player.name,n.player.health>=1?(r.textContent=n.player.health,i.style.width="".concat(100*n.player.health/n.player.maxHealth,"%")):(r.textContent=0,i.style.width="0%",it||(it=!0,g("lose"))),a.textContent=n.player.maxHealth;var l=document.querySelector("[data-battle_enemy_avatar_img]"),s=document.querySelector("[data-battle_enemy_name]"),f=document.querySelector("[data-battle_enemy_current_health]"),p=document.querySelector("[data-battle_enemy_total_health]");l.src=n.enemy.avatar,s.textContent=n.enemy.name,n.enemy.health>0?(f.textContent=n.enemy.health,u.style.width="".concat(100*n.enemy.health/n.enemy.maxHealth,"%")):(f.textContent=0,u.style.width="0%",it||(it=!0,g("win"))),p.textContent=n.enemy.maxHealth}v()}function lt(){it=!1,n.player.health=n.player.maxHealth,n.enemy={},n.battle.log=[],document.querySelector("[data-battle_log]").textContent="",r()}function st(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return ft(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ft(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,ft(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,ft(f,"constructor",l),ft(l,"constructor",u),u.displayName="GeneratorFunction",ft(l,a,"GeneratorFunction"),ft(f),ft(f,a,"Generator"),ft(f,r,function(){return this}),ft(f,"toString",function(){return"[object Generator]"}),(st=function(){return{w:o,m:p}})()}function ft(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}ft=function(t,e,n,r){function o(e,n){ft(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ft(t,e,n,r)}function pt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function dt(){return ht.apply(this,arguments)}function ht(){var t;return t=st().m(function t(){return st().w(function(t){for(;;)switch(t.n){case 0:document.querySelector("[data-home_title_name]").textContent=n.player.name;case 1:return t.a(2)}},t)}),ht=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){pt(o,r,a,c,i,"next",t)}function i(t){pt(o,r,a,c,i,"throw",t)}c(void 0)})},ht.apply(this,arguments)}function vt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return yt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(yt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,yt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,yt(f,"constructor",l),yt(l,"constructor",u),u.displayName="GeneratorFunction",yt(l,a,"GeneratorFunction"),yt(f),yt(f,a,"Generator"),yt(f,r,function(){return this}),yt(f,"toString",function(){return"[object Generator]"}),(vt=function(){return{w:o,m:p}})()}function yt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}yt=function(t,e,n,r){function o(e,n){yt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},yt(t,e,n,r)}function mt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function _t(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){mt(o,r,a,c,i,"next",t)}function i(t){mt(o,r,a,c,i,"throw",t)}c(void 0)})}}function gt(){return bt.apply(this,arguments)}function bt(){return bt=_t(vt().m(function t(){var e,a;return vt().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-register_btn]"),a=document.querySelector("[data-register_input]"),nt&&e&&e.removeEventListener("click",nt),rt&&a&&a.removeEventListener("input",rt),nt=function(){var t=_t(vt().m(function t(e){return vt().w(function(t){for(;;)switch(t.n){case 0:return n.player.name=a.value,r(),t.n=1,Tt(e);case 1:return t.n=2,dt();case 2:return t.n=3,w();case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),rt=function(t){t.target.value.length>=1?e.disabled=!1:e.disabled=!0},e&&a&&(e.addEventListener("click",nt),a.addEventListener("input",rt));case 1:return t.a(2)}},t)})),bt.apply(this,arguments)}var kt=null,wt=null;function St(){var t=document.querySelector("[data-settings_change_name]"),e=document.querySelector("[data-edit_change_name]"),a=document.querySelector("[data-settings_change_name_input]"),o=document.querySelector("[data-settings_change-name_current_name]");o.textContent=n.player.name;var c=n.player.name;kt&&(e.removeEventListener("click",kt),t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c),wt&&a.removeEventListener("input",wt),kt=function(i){t.classList.contains("settings__change-name--active")?(t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c):(t.classList.add("settings__change-name--active"),e.textContent="Save",a.value=c),n.player.name=a.value.trim(),r()},wt=function(t){var n=t.target;n.value?(e.disabled=!1,c=n.value.trim()):e.disabled=!0},e.addEventListener("click",kt),a.addEventListener("input",wt)}function Ot(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return jt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(jt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,jt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,jt(f,"constructor",l),jt(l,"constructor",u),u.displayName="GeneratorFunction",jt(l,a,"GeneratorFunction"),jt(f),jt(f,a,"Generator"),jt(f,r,function(){return this}),jt(f,"toString",function(){return"[object Generator]"}),(Ot=function(){return{w:o,m:p}})()}function jt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}jt=function(t,e,n,r){function o(e,n){jt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},jt(t,e,n,r)}function Et(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function xt(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Et(o,r,a,c,i,"next",t)}function i(t){Et(o,r,a,c,i,"throw",t)}c(void 0)})}}var Lt={"/register":"views/register.html","/home":"views/home.html","/character":"views/character.html","/settings":"views/settings.html","/battle":"views/battle.html"},Tt=function(){var t=xt(Ot().m(function t(e){var n,r;return Ot().w(function(t){for(;;)switch(t.n){case 0:return n=e.target,r=n.dataset.link,window.location.hash=r,t.n=1,Gt();case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),qt=function(t){window.location.hash=t},Gt=function(){var t=xt(Ot().m(function t(){var e,r,a,o,c;return Ot().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=window.location.hash.replace("#","")||"/home",r=Lt[e]||"views/home.html",t.p=1,t.n=2,fetch(r).then(function(t){return t.text()});case 2:if(a=t.v,!n.player.name||"/register"===e){t.n=6;break}return t.n=3,fetch("views/toolbar.html").then(function(t){return t.text()});case 3:return o=t.v,document.getElementById("root").innerHTML=a+o,t.n=4,w();case 4:return t.n=5,L();case 5:t.n=7;break;case 6:document.getElementById("root").innerHTML=a;case 7:({"/home":dt,"/register":gt,"/character":y,"/settings":St,"/battle":ut}[e]||dt)(),W(.05),t.n=9;break;case 8:t.p=8,c=t.v,console.error("Error loading route:",c),qt("/home"),dt();case 9:return t.a(2)}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}();function Pt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Ct(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Ct(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Ct(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,Ct(f,"constructor",l),Ct(l,"constructor",u),u.displayName="GeneratorFunction",Ct(l,a,"GeneratorFunction"),Ct(f),Ct(f,a,"Generator"),Ct(f,r,function(){return this}),Ct(f,"toString",function(){return"[object Generator]"}),(Pt=function(){return{w:o,m:p}})()}function Ct(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Ct=function(t,e,n,r){function o(e,n){Ct(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Ct(t,e,n,r)}function Zt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function Ft(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Zt(o,r,a,c,i,"next",t)}function i(t){Zt(o,r,a,c,i,"throw",t)}c(void 0)})}}function Mt(){return(Mt=Ft(Pt().m(function t(){return Pt().w(function(t){for(;;)switch(t.n){case 0:if(a(),n.player.name){t.n=2;break}return n.player.avatar=e,qt("/register"),t.n=1,Gt();case 1:t.n=3;break;case 2:return qt("/home"),t.n=3,Gt();case 3:return t.a(2)}},t)}))).apply(this,arguments)}function Nt(t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Ft(Pt().m(function t(e){var n;return Pt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML=n,W(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}function At(t){return zt.apply(this,arguments)}function zt(){return(zt=Ft(Pt().m(function t(e){var n;return Pt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML+=n,W(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}window.addEventListener("hashchange",Gt),window.addEventListener("DOMContentLoaded",function(){a(),function(){Mt.apply(this,arguments)}()})}();