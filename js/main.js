/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";var t="/not-fight-club/",e=t+"assets/images/character_frodo.jpg",n={player:{name:"",avatar:"",wins:0,loses:0,health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},avatars:[{avatarName:"frodo",health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},{avatarName:"aragorn",health:100,maxHealth:100,attack:12,critChance:.15,critMultiplier:1.25,attackZones:2,defendZones:2},{avatarName:"legolas",health:100,maxHealth:100,attack:18,critChance:.25,critMultiplier:1.35,attackZones:2,defendZones:1},{avatarName:"gandalf",health:150,maxHealth:150,attack:15,critChance:.1,critMultiplier:1.15,attackZones:2,defendZones:2}],battle:{playerAttack:[],playerDefend:[],enemyAttack:[],enemyDefend:[],log:[]},enemy:{},enemies:[{name:"Spider",avatar:t+"assets/images/enemy_spider.jpg",health:80,maxHealth:80,attack:12,critChance:.25,critMultiplier:1.5,attackZones:2,defendZones:1},{name:"Troll",avatar:t+"assets/images/enemy_troll.jpg",health:120,maxHealth:120,attack:8,critChance:.1,critMultiplier:2,attackZones:1,defendZones:3},{name:"Knight",avatar:t+"assets/images/enemy_knight.jpg",health:100,maxHealth:100,attack:10,critChance:.15,critMultiplier:1.5,attackZones:1,defendZones:2},{name:"Sauron",avatar:t+"assets/images/enemy_sauron.jpg",health:150,maxHealth:150,attack:15,critChance:.15,critMultiplier:1.5,attackZones:2,defendZones:2}]};function r(){localStorage.setItem("notFightClubGame",JSON.stringify(n))}function a(){var t=localStorage.getItem("notFightClubGame");if(t){var e=JSON.parse(t);Object.assign(n,e)}}var o=t+"assets/images/character_gandalf.jpg",c=t+"assets/images/character_aragorn.jpg",i=t+"assets/images/character_legolas.jpg",u=t+"assets/icons/cup.svg",l=t+"assets/icons/lose.svg",s=t+"assets/sounds/click.mp3",f=t+"assets/sounds/fight.mp3",p=t+"assets/sounds/song.mp3";function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=new Audio;return n.src=t,n.volume=e,n}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,e=document.querySelectorAll("[data-sound]"),n=d(s,t),r=d(f,t);e.forEach(function(t){var e=t.dataset.sound;t.addEventListener("click",function(t){"click"===e&&n.play(),"fight"===e&&r.play()})})}var v=null,y=!1;function m(){y=!0,v&&y&&v.play()}var _=t+"assets/sounds/win.mp3",g=t+"assets/sounds/lose.mp3";function b(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return k(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(k(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,k(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,k(f,"constructor",l),k(l,"constructor",u),u.displayName="GeneratorFunction",k(l,a,"GeneratorFunction"),k(f),k(f,a,"Generator"),k(f,r,function(){return this}),k(f,"toString",function(){return"[object Generator]"}),(b=function(){return{w:o,m:p}})()}function k(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}k=function(t,e,n,r){function o(e,n){k(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},k(t,e,n,r)}function w(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}var S=null,O=null,E=null,j=!1;function x(){var t=document.querySelector("[data-battle_log]");if(n.enemy.name)n.battle.log.forEach(function(t){t.isCrit&&t.isBlocked?L(t):t.isBlocked?T(t):L(t)});else{var e=Math.floor(Math.random()*n.enemies.length);n.enemy=JSON.parse(JSON.stringify(n.enemies[e])),r()}Z();var a=document.querySelector("[data-battle_controls_attack_btn]");a.disabled=!0;var o=document.querySelector("[data-battle_zone_attack]"),c=document.querySelector("[data-battle_zone_defence]"),i=o.querySelectorAll("input"),s=c.querySelectorAll("input");i.forEach(function(t){t.checked=!1}),s.forEach(function(t){t.checked=!1}),S&&o.removeEventListener("click",S),O&&c.removeEventListener("click",O);var f=n.player.attackZones,p=[];S=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=o.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_attack_radio]")&&(e.checked&&p.length<f&&p.push(e),e.checked||(e.checked=!1,p=p.filter(function(t){return t!=e})),n>f&&(p.shift().checked=!1,p.push(e))),y()}};var h=n.player.defendZones,v=[];function y(){f===p.length&h===v.length?a.disabled=!1:a.disabled=!0}O=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=c.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_defence_radio]")&&(e.checked&&v.length<h&&v.push(e),e.checked||(e.checked=!1,v=v.filter(function(t){return t!=e})),n>h&&(v.shift().checked=!1,v.push(e))),y()}},o.addEventListener("click",S),c.addEventListener("click",O),E&&a.removeEventListener("click",E),E=function(t){var e,a,o=[],c=[];p.forEach(function(t){o.push(t.dataset.battle_zone_attack_input)}),v.forEach(function(t){c.push(t.dataset.battle_zone_defence_input)}),(e=n.battle.playerAttack).push.apply(e,o),(a=n.battle.playerDefend).push.apply(a,c),function(){for(var t=0;n.battle.enemyAttack.length<n.enemy.attackZones;t++){var e=Math.floor(Math.random()*m.length);n.battle.enemyAttack.includes(m[e])||n.battle.enemyAttack.push(m[e])}}(),function(){for(var t=0;n.battle.enemyDefend.length<n.enemy.defendZones;t++){var e=Math.floor(Math.random()*m.length);n.battle.enemyDefend.includes(m[e])||n.battle.enemyDefend.push(m[e])}}(),r(),k(),n.battle.playerAttack=[],n.battle.playerDefend=[],n.battle.enemyAttack=[],n.battle.enemyDefend=[],r()},a.addEventListener("click",E);var m=["head","neck","body","belly","legs"];function k(){x("player"),n.enemy.health>=1&&x("enemy")}function x(t){var e,r;"player"===t?(e="player",r="enemy"):"enemy"===t&&(e="enemy",r="player");var a=e+"Attack",o=r+"Defend";n.battle[a].forEach(function(t){var a=n.player.critChance>Math.random(),c=a?Math.floor(n[e].attack*n[e].critMultiplier):n[e].attack,i="player"===e,u=i?"character":"enemy",l=i?"enemy":"character",s={attackerName:n[e].name,defenderName:n[r].name,attackZone:t,isCrit:a,damage:c,isBlocked:n.battle[o].includes(t),attackingCharacterSpan:u,defendingCharacterSpan:l,characterAttack:e,characterDefend:r};n.battle.log.push(s),s.isCrit&&s.isBlocked?L(s):s.isBlocked?T(s):L(s),function(t,e){n[t].health=n[t].health-e,Z()}(s.characterDefend,c)})}function L(e){e.damage,e.characterDefend;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.isCrit,o=t.damage,c=t.isBlocked,i=t.attackingCharacterSpan,u=t.defendingCharacterSpan,l=r[0].toUpperCase()+r.slice(1);return a&&c?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            tried to block but <span class="battle__log-item-').concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span> was very lucky and crit his opponent for <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):a?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and crit\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and deal\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function T(e){e.attackerName,e.defenderName,e.attackZone;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.attackingCharacterSpan,o=t.defendingCharacterSpan,c=r[0].toUpperCase()+r.slice(1);return'\n            <span class="battle__log-item-'.concat(a,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,'</span>\n            but <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            was able to <span class="battle__log-item-defend battle__log-item-span" data-battle_log_protect_span>protect</span>\n            his  <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,"</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function q(t){return G.apply(this,arguments)}function G(){var e;return e=b().m(function e(n){var r,a,o,c;return b().w(function(e){for(;;)switch(e.n){case 0:return console.log(t.scrollHeight),r=t.scrollTop,e.n=1,It("./views/popup_results.html");case 1:(a=document.querySelector("[data-battle_log]"))&&(a.scrollTop=r),document.querySelector('[data-popup="results"]'),o=document.querySelector("[data-popup__title]"),(c=document.createElement("img")).classList.add("popup__results-icon"),"win"===n?(c.src=u,o.textContent="Congratulations with your win!",o.append(c),P(),St('[data-popup="results"]'),d(_,.1).play()):(c.src=l,o.textContent="Maybe next time",o.append(c),C(),St('[data-popup="results"]'),d(g,.1).play());case 2:return e.a(2)}},e)}),G=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(t){w(o,r,a,c,i,"next",t)}function i(t){w(o,r,a,c,i,"throw",t)}c(void 0)})},G.apply(this,arguments)}function C(){n.player.loses=n.player.loses+1,r()}function P(){n.player.wins=n.player.wins+1,r()}function Z(){var t=document.querySelector("[data-battle_character_avatar_img]"),e=document.querySelector("[data-battle_character_name]"),r=document.querySelector("[data-battle_character_current_health]"),a=document.querySelector("[data-battle_character_total_health]"),o=document.querySelector("[data-battle_attack_amount]"),c=document.querySelector("[data-battle_defence_amount]");o.textContent=n.player.attackZones,c.textContent=n.player.defendZones;var i=document.querySelector("[data-avatar_health_bg]"),u=document.querySelector("[data-enemy_health_bg]");t.src=n.player.avatar,e.textContent=n.player.name,n.player.health>=1?(r.textContent=n.player.health,i.style.width="".concat(100*n.player.health/n.player.maxHealth,"%")):(r.textContent=0,i.style.width="0%",j||(j=!0,q("lose"))),a.textContent=n.player.maxHealth;var l=document.querySelector("[data-battle_enemy_avatar_img]"),s=document.querySelector("[data-battle_enemy_name]"),f=document.querySelector("[data-battle_enemy_current_health]"),p=document.querySelector("[data-battle_enemy_total_health]");l.src=n.enemy.avatar,s.textContent=n.enemy.name,n.enemy.health>0?(f.textContent=n.enemy.health,u.style.width="".concat(100*n.enemy.health/n.enemy.maxHealth,"%")):(f.textContent=0,u.style.width="0%",j||(j=!0,q("win"))),p.textContent=n.enemy.maxHealth}k()}function L(){j=!1,n.player.health=n.player.maxHealth,n.enemy={},n.battle.log=[],document.querySelector("[data-battle_log]").textContent="",r()}function T(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return q(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(q(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,q(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,q(f,"constructor",l),q(l,"constructor",u),u.displayName="GeneratorFunction",q(l,a,"GeneratorFunction"),q(f),q(f,a,"Generator"),q(f,r,function(){return this}),q(f,"toString",function(){return"[object Generator]"}),(T=function(){return{w:o,m:p}})()}function q(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}q=function(t,e,n,r){function o(e,n){q(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},q(t,e,n,r)}function G(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}var C,P,Z=null;function F(){return M.apply(this,arguments)}function M(){return(t=T().m(function t(){var e,n;return T().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-toolbar_burger]"),n=document.querySelector("[data-toolbar_nav]"),document.querySelectorAll("[data-link]"),Z&&e.removeEventListener("click",Z),Z=function(t){n.classList.toggle("toolbar__right--active"),e.classList.toggle("toolbar-burger--active")},e.addEventListener("click",Z);case 1:return t.a(2)}},t)}),M=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){G(o,r,a,c,i,"next",t)}function i(t){G(o,r,a,c,i,"throw",t)}c(void 0)})}).apply(this,arguments);var t}function N(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return H(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(H(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,H(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,H(f,"constructor",l),H(l,"constructor",u),u.displayName="GeneratorFunction",H(l,a,"GeneratorFunction"),H(f),H(f,a,"Generator"),H(f,r,function(){return this}),H(f,"toString",function(){return"[object Generator]"}),(N=function(){return{w:o,m:p}})()}function H(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}H=function(t,e,n,r){function o(e,n){H(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},H(t,e,n,r)}function A(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function z(){return D.apply(this,arguments)}function D(){var t;return t=N().m(function t(){return N().w(function(t){for(;;)switch(t.n){case 0:document.querySelector("[data-home_title_name]").textContent=n.player.name;case 1:return t.a(2)}},t)}),D=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){A(o,r,a,c,i,"next",t)}function i(t){A(o,r,a,c,i,"throw",t)}c(void 0)})},D.apply(this,arguments)}function B(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return I(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(I(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,I(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,I(f,"constructor",l),I(l,"constructor",u),u.displayName="GeneratorFunction",I(l,a,"GeneratorFunction"),I(f),I(f,a,"Generator"),I(f,r,function(){return this}),I(f,"toString",function(){return"[object Generator]"}),(B=function(){return{w:o,m:p}})()}function I(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}I=function(t,e,n,r){function o(e,n){I(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},I(t,e,n,r)}function J(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function U(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){J(o,r,a,c,i,"next",t)}function i(t){J(o,r,a,c,i,"throw",t)}c(void 0)})}}function K(){return Q.apply(this,arguments)}function Q(){return Q=U(B().m(function t(){var e,a;return B().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-register_btn]"),a=document.querySelector("[data-register_input]"),C&&e&&e.removeEventListener("click",C),P&&a&&a.removeEventListener("input",P),C=function(){var t=U(B().m(function t(e){return B().w(function(t){for(;;)switch(t.n){case 0:return n.player.name=a.value,r(),t.n=1,nt(e);case 1:return t.n=2,z();case 2:return t.n=3,st();case 3:m();case 4:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),P=function(t){t.target.value.length>=1?e.disabled=!1:e.disabled=!0},e&&a&&(e.addEventListener("click",C),a.addEventListener("input",P));case 1:return t.a(2)}},t)})),Q.apply(this,arguments)}var R=null,V=null;function W(){var t=document.querySelector("[data-settings_change_name]"),e=document.querySelector("[data-edit_change_name]"),a=document.querySelector("[data-settings_change_name_input]"),o=document.querySelector("[data-settings_change-name_current_name]");o.textContent=n.player.name;var c=n.player.name;R&&(e.removeEventListener("click",R),t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c),V&&a.removeEventListener("input",V),R=function(i){t.classList.contains("settings__change-name--active")?(t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c):(t.classList.add("settings__change-name--active"),e.textContent="Save",a.value=c),n.player.name=a.value.trim(),r()},V=function(t){var n=t.target;n.value?(e.disabled=!1,c=n.value.trim()):e.disabled=!0},e.addEventListener("click",R),a.addEventListener("input",V)}function X(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Y(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Y(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Y(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,Y(f,"constructor",l),Y(l,"constructor",u),u.displayName="GeneratorFunction",Y(l,a,"GeneratorFunction"),Y(f),Y(f,a,"Generator"),Y(f,r,function(){return this}),Y(f,"toString",function(){return"[object Generator]"}),(X=function(){return{w:o,m:p}})()}function Y(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Y=function(t,e,n,r){function o(e,n){Y(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Y(t,e,n,r)}function $(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function tt(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){$(o,r,a,c,i,"next",t)}function i(t){$(o,r,a,c,i,"throw",t)}c(void 0)})}}var et={"/register":"views/register.html","/home":"views/home.html","/character":"views/character.html","/settings":"views/settings.html","/battle":"views/battle.html"},nt=function(){var t=tt(X().m(function t(e){var n,r;return X().w(function(t){for(;;)switch(t.n){case 0:return n=e.target,r=n.dataset.link,m(),window.location.hash=r,t.n=1,at();case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),rt=function(t){window.location.hash=t},at=function(){var t=tt(X().m(function t(){var e,r,a,o,c;return X().w(function(t){for(;;)switch(t.p=t.n){case 0:return console.log(window.location.hash.replace("#","")),e=window.location.hash.replace("#","")||"/home",r=et[e]||"views/home.html",console.log(r),t.p=1,t.n=2,fetch(r).then(function(t){return t.text()});case 2:if(a=t.v,console.log(a),!n.player.name||"/register"===e){t.n=6;break}return t.n=3,fetch("views/toolbar.html").then(function(t){return t.text()});case 3:return o=t.v,document.getElementById("root").innerHTML=a+o,t.n=4,st();case 4:return t.n=5,F();case 5:console.log(toolbar),t.n=7;break;case 6:document.getElementById("root").innerHTML=a;case 7:({"/home":z,"/register":K,"/character":Ft,"/settings":W,"/battle":x}[e]||z)(),h(.05),t.n=9;break;case 8:t.p=8,c=t.v,console.error("Error loading route:",c),rt("/home"),z();case 9:return t.a(2)}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}();function ot(t){return t[0].toUpperCase()+t.slice(1)}function ct(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return it(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(it(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,it(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,it(f,"constructor",l),it(l,"constructor",u),u.displayName="GeneratorFunction",it(l,a,"GeneratorFunction"),it(f),it(f,a,"Generator"),it(f,r,function(){return this}),it(f,"toString",function(){return"[object Generator]"}),(ct=function(){return{w:o,m:p}})()}function it(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}it=function(t,e,n,r){function o(e,n){it(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},it(t,e,n,r)}function ut(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function lt(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){ut(o,r,a,c,i,"next",t)}function i(t){ut(o,r,a,c,i,"throw",t)}c(void 0)})}}function st(){return ft.apply(this,arguments)}function ft(){return ft=lt(ct().m(function t(){return ct().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll("[data-link]").forEach(function(t){t.dataset.link,t.addEventListener("click",function(){var e=lt(ct().m(function e(n){var r;return ct().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,nt(n);case 1:r=t.dataset.page_btn,document.querySelector("[data-page_title]").textContent=ot(r);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())});case 1:return t.a(2)}},t)})),ft.apply(this,arguments)}function pt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return dt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(dt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,dt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,dt(f,"constructor",l),dt(l,"constructor",u),u.displayName="GeneratorFunction",dt(l,a,"GeneratorFunction"),dt(f),dt(f,a,"Generator"),dt(f,r,function(){return this}),dt(f,"toString",function(){return"[object Generator]"}),(pt=function(){return{w:o,m:p}})()}function dt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}dt=function(t,e,n,r){function o(e,n){dt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},dt(t,e,n,r)}function ht(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function vt(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){ht(o,r,a,c,i,"next",t)}function i(t){ht(o,r,a,c,i,"throw",t)}c(void 0)})}}document.addEventListener("DOMContentLoaded",function(){}),window.addEventListener("hashchange",at);var yt=null,mt=null,_t=null,gt=null,bt=null,kt=null,wt=null;function St(t){return Ot.apply(this,arguments)}function Ot(){return Ot=vt(pt().m(function t(a){var u,l,s,f,p,d,h,v,y,m,_;return pt().w(function(t){for(;;)switch(t.n){case 0:u=document.querySelector("body"),l=document.querySelector(a),s=l.querySelector("[data-popup_container]"),f=[{opacity:"0"},{opacity:"1"}],p={duration:400,fill:"forwards"},s.animate(f,p),l.classList.add("popup--active"),u.classList.add("lock"),d=document.querySelector('[data-avatar_name="frodo"]'),h=document.querySelector('[data-avatar_name="gandalf"]'),v=document.querySelector('[data-avatar_name="aragorn"]'),y=document.querySelector('[data-avatar_name="legolas"]'),yt&&l.removeEventListener("click",yt),mt&&d&&d.removeEventListener("click",mt),_t&&h&&h.removeEventListener("click",_t),gt&&v&&v.removeEventListener("click",gt),bt&&y&&y.removeEventListener("click",bt),yt=function(t){var e=t.target;e.closest(".popup__container")||(Et(a),'[data-popup="results"]'===a&&(L(),x(),r())),e.closest(".popup__close")&&(Et(a),'[data-popup="results"]'===a&&(L(),x(),r()))},mt=function(t){n.player.avatar=e,jt("frodo"),Ft(),r(),Et('[data-popup="character_change"]')},_t=function(t){n.player.avatar=o,jt("gandalf"),Ft(),r(),Et('[data-popup="character_change"]')},gt=function(t){n.player.avatar=c,jt("aragorn"),Ft(),r(),Et('[data-popup="character_change"]')},bt=function(t){n.player.avatar=i,jt("legolas"),Ft(),r(),Et('[data-popup="character_change"]')},l.addEventListener("click",yt),d&&h&&v&&y&&(d.addEventListener("click",mt),h.addEventListener("click",_t),v.addEventListener("click",gt),y.addEventListener("click",bt)),m=document.querySelector("[data-popup_results_btn_fight]"),_=document.querySelector("[data-popup_results_btn_character]"),kt&&m&&m.removeEventListener("click",kt),wt&&_&&_.removeEventListener("click",wt),wt=function(){var t=vt(pt().m(function t(e){return pt().w(function(t){for(;;)switch(t.n){case 0:return Et('[data-popup="results"'),L(),x(),t.n=1,Dt("./views/character.html");case 1:return t.n=2,It("./views/toolbar.html");case 2:Ft(),r();case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),kt=function(t){Et('[data-popup="results"'),L(),x(),r()},m&&_&&(m.addEventListener("click",kt),_.addEventListener("click",wt));case 1:return t.a(2)}},t)})),Ot.apply(this,arguments)}function Et(t){var e=document.querySelector(t),n=e.querySelector("[data-popup_container]"),r=document.querySelector("body"),a=n.animate([{opacity:"1"},{opacity:"0"}],{duration:400,fill:"forwards"}),o=document.querySelector('[data-popup="character_change"]');a.addEventListener("finish",function(){r.classList.remove("lock"),e.classList.remove("popup--active"),e.remove(),o&&Ft(),F(),st()})}function jt(t){var e=n.avatars.find(function(e){return e.avatarName===t});n.player.attack=e.attack,n.player.attackZones=e.attackZones,n.player.defendZones=e.defendZones,n.player.critChance=e.critChance,n.player.critMultiplier=e.critMultiplier,n.player.maxHealth=e.maxHealth,n.player.health>e.maxHealth&&(n.player.health=e.health),r()}function xt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Lt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Lt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Lt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,Lt(f,"constructor",l),Lt(l,"constructor",u),u.displayName="GeneratorFunction",Lt(l,a,"GeneratorFunction"),Lt(f),Lt(f,a,"Generator"),Lt(f,r,function(){return this}),Lt(f,"toString",function(){return"[object Generator]"}),(xt=function(){return{w:o,m:p}})()}function Lt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Lt=function(t,e,n,r){function o(e,n){Lt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Lt(t,e,n,r)}function Tt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function qt(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Tt(o,r,a,c,i,"next",t)}function i(t){Tt(o,r,a,c,i,"throw",t)}c(void 0)})}}var Gt=null,Ct=null,Pt=null,Zt=null;function Ft(){document.querySelector('[data-popup="character_change"]');var t=document.querySelector("[data-character_edit_container]"),e=document.querySelector("[data-character_avatar]"),r=document.querySelector("[data-character_avatar_btn]"),a=document.querySelector("[data-character_avatar_img]"),o=document.querySelector("[data-character_name]"),c=document.querySelector("[data-result_wins]"),i=document.querySelector("[data-result_loses]");a.src=n.player.avatar,o.textContent=n.player.name,c.textContent=n.player.wins,i.textContent=n.player.loses;var u="character__avatar-edit-container--active";t.classList.remove(u),Gt&&e.removeEventListener("mouseover",Gt),Ct&&e.removeEventListener("mouseout",Ct),Pt&&t.removeEventListener("click",Pt),Zt&&r.removeEventListener("click",Zt),Gt=function(e){t.classList.add(u)},Ct=function(e){t.classList.remove(u)},Pt=function(){var t=qt(xt().m(function t(e){return xt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,It("./views/popup_character.html");case 1:return t.n=2,St('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Zt=function(){var t=qt(xt().m(function t(e){return xt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,It("./views/popup_character.html");case 1:return t.n=2,St('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),e.addEventListener("mouseover",Gt),e.addEventListener("mouseout",Ct),t.addEventListener("click",Pt),r.addEventListener("click",Zt)}function Mt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Nt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Nt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Nt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,Nt(f,"constructor",l),Nt(l,"constructor",u),u.displayName="GeneratorFunction",Nt(l,a,"GeneratorFunction"),Nt(f),Nt(f,a,"Generator"),Nt(f,r,function(){return this}),Nt(f,"toString",function(){return"[object Generator]"}),(Mt=function(){return{w:o,m:p}})()}function Nt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Nt=function(t,e,n,r){function o(e,n){Nt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Nt(t,e,n,r)}function Ht(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function At(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Ht(o,r,a,c,i,"next",t)}function i(t){Ht(o,r,a,c,i,"throw",t)}c(void 0)})}}function zt(){return(zt=At(Mt().m(function t(){return Mt().w(function(t){for(;;)switch(t.n){case 0:if(a(),n.player.name){t.n=2;break}return rt("/register"),t.n=1,at();case 1:t.n=3;break;case 2:return rt("/home"),t.n=3,at();case 3:return t.a(2)}},t)}))).apply(this,arguments)}function Dt(t){return Bt.apply(this,arguments)}function Bt(){return(Bt=At(Mt().m(function t(e){var n;return Mt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML=n,h(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}function It(t){return Jt.apply(this,arguments)}function Jt(){return(Jt=At(Mt().m(function t(e){var n;return Mt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML+=n,h(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}!function(){v||((v=d(p,arguments.length>0&&void 0!==arguments[0]?arguments[0]:.025)).loop=!0)}(),window.addEventListener("DOMContentLoaded",function(){a(),function(){zt.apply(this,arguments)}()})}();