/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";var t="/not-fight-club/",e=t+"assets/images/character_frodo.jpg",n={player:{name:"",avatar:"",wins:0,loses:0,health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},avatars:[{avatarName:"frodo",health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},{avatarName:"aragorn",health:100,maxHealth:100,attack:12,critChance:.15,critMultiplier:1.25,attackZones:2,defendZones:2},{avatarName:"legolas",health:100,maxHealth:100,attack:18,critChance:.25,critMultiplier:1.35,attackZones:2,defendZones:1},{avatarName:"gandalf",health:150,maxHealth:150,attack:15,critChance:.1,critMultiplier:1.15,attackZones:2,defendZones:2}],battle:{playerAttack:[],playerDefend:[],enemyAttack:[],enemyDefend:[],log:[]},enemy:{},enemies:[{name:"Spider",avatar:t+"assets/images/enemy_spider.jpg",health:80,maxHealth:80,attack:12,critChance:.25,critMultiplier:1.5,attackZones:2,defendZones:1},{name:"Troll",avatar:t+"assets/images/enemy_troll.jpg",health:120,maxHealth:120,attack:8,critChance:.1,critMultiplier:2,attackZones:1,defendZones:3},{name:"Knight",avatar:t+"assets/images/enemy_knight.jpg",health:100,maxHealth:100,attack:10,critChance:.15,critMultiplier:1.5,attackZones:1,defendZones:2},{name:"Sauron",avatar:t+"assets/images/enemy_sauron.jpg",health:150,maxHealth:150,attack:15,critChance:.15,critMultiplier:1.5,attackZones:2,defendZones:2}]};function r(){localStorage.setItem("notFightClubGame",JSON.stringify(n))}function a(){var t=localStorage.getItem("notFightClubGame");if(t){var e=JSON.parse(t);Object.assign(n,e)}}var o=t+"assets/images/character_gandalf.jpg",c=t+"assets/images/character_aragorn.jpg",i=t+"assets/images/character_legolas.jpg",u=t+"assets/icons/cup.svg",l=t+"assets/icons/lose.svg",s=t+"assets/sounds/click.mp3",f=t+"assets/sounds/fight.mp3",p=t+"assets/sounds/song.mp3";function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=new Audio;return n.src=t,n.volume=e,n}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,e=document.querySelectorAll("[data-sound]"),n=d(s,t),r=d(f,t);e.forEach(function(t){var e=t.dataset.sound;t.addEventListener("click",function(t){"click"===e&&n.play(),"fight"===e&&r.play()})})}var v=null,y=!1;function m(){y=!0,v&&y&&v.play()}var _=t+"assets/sounds/win.mp3",g=t+"assets/sounds/lose.mp3";function b(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return k(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(k(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,k(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,k(f,"constructor",l),k(l,"constructor",u),u.displayName="GeneratorFunction",k(l,a,"GeneratorFunction"),k(f),k(f,a,"Generator"),k(f,r,function(){return this}),k(f,"toString",function(){return"[object Generator]"}),(b=function(){return{w:o,m:p}})()}function k(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}k=function(t,e,n,r){function o(e,n){k(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},k(t,e,n,r)}function w(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}var S,O,j=null,E=null,x=null,L=!1;function T(){var t=document.querySelector("[data-battle_log]");if(n.enemy.name)n.battle.log.forEach(function(t){t.isCrit&&t.isBlocked?O(t):t.isBlocked?T(t):O(t)});else{var e=Math.floor(Math.random()*n.enemies.length);n.enemy=JSON.parse(JSON.stringify(n.enemies[e])),r()}Z();var a=document.querySelector("[data-battle_controls_attack_btn]");a.disabled=!0;var o=document.querySelector("[data-battle_zone_attack]"),c=document.querySelector("[data-battle_zone_defence]"),i=o.querySelectorAll("input"),s=c.querySelectorAll("input");i.forEach(function(t){t.checked=!1}),s.forEach(function(t){t.checked=!1}),j&&o.removeEventListener("click",j),E&&c.removeEventListener("click",E);var f=n.player.attackZones,p=[];j=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=o.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_attack_radio]")&&(e.checked&&p.length<f&&p.push(e),e.checked||(e.checked=!1,p=p.filter(function(t){return t!=e})),n>f&&(p.shift().checked=!1,p.push(e))),y()}};var h=n.player.defendZones,v=[];function y(){f===p.length&h===v.length?a.disabled=!1:a.disabled=!0}E=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=c.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_defence_radio]")&&(e.checked&&v.length<h&&v.push(e),e.checked||(e.checked=!1,v=v.filter(function(t){return t!=e})),n>h&&(v.shift().checked=!1,v.push(e))),y()}},o.addEventListener("click",j),c.addEventListener("click",E),x&&a.removeEventListener("click",x),x=function(t){var e,a,o=[],c=[];p.forEach(function(t){o.push(t.dataset.battle_zone_attack_input)}),v.forEach(function(t){c.push(t.dataset.battle_zone_defence_input)}),(e=n.battle.playerAttack).push.apply(e,o),(a=n.battle.playerDefend).push.apply(a,c),function(){for(var t=0;n.battle.enemyAttack.length<n.enemy.attackZones;t++){var e=Math.floor(Math.random()*m.length);n.battle.enemyAttack.includes(m[e])||n.battle.enemyAttack.push(m[e])}}(),function(){for(var t=0;n.battle.enemyDefend.length<n.enemy.defendZones;t++){var e=Math.floor(Math.random()*m.length);n.battle.enemyDefend.includes(m[e])||n.battle.enemyDefend.push(m[e])}}(),r(),k(),n.battle.playerAttack=[],n.battle.playerDefend=[],n.battle.enemyAttack=[],n.battle.enemyDefend=[],r()},a.addEventListener("click",x);var m=["head","neck","body","belly","legs"];function k(){S("player"),n.enemy.health>=1&&S("enemy")}function S(t){var e,r;"player"===t?(e="player",r="enemy"):"enemy"===t&&(e="enemy",r="player");var a=e+"Attack",o=r+"Defend";n.battle[a].forEach(function(t){var a=n.player.critChance>Math.random(),c=a?Math.floor(n[e].attack*n[e].critMultiplier):n[e].attack,i="player"===e,u=i?"character":"enemy",l=i?"enemy":"character",s={attackerName:n[e].name,defenderName:n[r].name,attackZone:t,isCrit:a,damage:c,isBlocked:n.battle[o].includes(t),attackingCharacterSpan:u,defendingCharacterSpan:l,characterAttack:e,characterDefend:r};n.battle.log.push(s),s.isCrit&&s.isBlocked?O(s):s.isBlocked?T(s):O(s),function(t,e){n[t].health=n[t].health-e,Z()}(s.characterDefend,c)})}function O(e){e.damage,e.characterDefend;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.isCrit,o=t.damage,c=t.isBlocked,i=t.attackingCharacterSpan,u=t.defendingCharacterSpan,l=r[0].toUpperCase()+r.slice(1);return a&&c?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            tried to block but <span class="battle__log-item-').concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span> was very lucky and crit his opponent for <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):a?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and crit\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and deal\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function T(e){e.attackerName,e.defenderName,e.attackZone;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.attackingCharacterSpan,o=t.defendingCharacterSpan,c=r[0].toUpperCase()+r.slice(1);return'\n            <span class="battle__log-item-'.concat(a,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,'</span>\n            but <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            was able to <span class="battle__log-item-defend battle__log-item-span" data-battle_log_protect_span>protect</span>\n            his  <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,"</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function q(t){return G.apply(this,arguments)}function G(){var e;return e=b().m(function e(n){var r,a,o,c;return b().w(function(e){for(;;)switch(e.n){case 0:return console.log(t.scrollHeight),r=t.scrollTop,e.n=1,Bt("./views/popup_results.html");case 1:(a=document.querySelector("[data-battle_log]"))&&(a.scrollTop=r),document.querySelector('[data-popup="results"]'),o=document.querySelector("[data-popup__title]"),(c=document.createElement("img")).classList.add("popup__results-icon"),"win"===n?(c.src=u,o.textContent="Congratulations with your win!",o.append(c),P(),wt('[data-popup="results"]'),d(_,.1).play()):(c.src=l,o.textContent="Maybe next time",o.append(c),C(),wt('[data-popup="results"]'),d(g,.1).play());case 2:return e.a(2)}},e)}),G=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(t){w(o,r,a,c,i,"next",t)}function i(t){w(o,r,a,c,i,"throw",t)}c(void 0)})},G.apply(this,arguments)}function C(){n.player.loses=n.player.loses+1,r()}function P(){n.player.wins=n.player.wins+1,r()}function Z(){var t=document.querySelector("[data-battle_character_avatar_img]"),e=document.querySelector("[data-battle_character_name]"),r=document.querySelector("[data-battle_character_current_health]"),a=document.querySelector("[data-battle_character_total_health]"),o=document.querySelector("[data-battle_attack_amount]"),c=document.querySelector("[data-battle_defence_amount]");o.textContent=n.player.attackZones,c.textContent=n.player.defendZones;var i=document.querySelector("[data-avatar_health_bg]"),u=document.querySelector("[data-enemy_health_bg]");t.src=n.player.avatar,e.textContent=n.player.name,n.player.health>=1?(r.textContent=n.player.health,i.style.width="".concat(100*n.player.health/n.player.maxHealth,"%")):(r.textContent=0,i.style.width="0%",L||(L=!0,q("lose"))),a.textContent=n.player.maxHealth;var l=document.querySelector("[data-battle_enemy_avatar_img]"),s=document.querySelector("[data-battle_enemy_name]"),f=document.querySelector("[data-battle_enemy_current_health]"),p=document.querySelector("[data-battle_enemy_total_health]");l.src=n.enemy.avatar,s.textContent=n.enemy.name,n.enemy.health>0?(f.textContent=n.enemy.health,u.style.width="".concat(100*n.enemy.health/n.enemy.maxHealth,"%")):(f.textContent=0,u.style.width="0%",L||(L=!0,q("win"))),p.textContent=n.enemy.maxHealth}k()}function q(){L=!1,n.player.health=n.player.maxHealth,n.enemy={},n.battle.log=[],document.querySelector("[data-battle_log]").textContent="",r()}function G(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return C(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(C(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,C(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,C(f,"constructor",l),C(l,"constructor",u),u.displayName="GeneratorFunction",C(l,a,"GeneratorFunction"),C(f),C(f,a,"Generator"),C(f,r,function(){return this}),C(f,"toString",function(){return"[object Generator]"}),(G=function(){return{w:o,m:p}})()}function C(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}C=function(t,e,n,r){function o(e,n){C(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},C(t,e,n,r)}function P(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function Z(){return F.apply(this,arguments)}function F(){return(t=G().m(function t(){var e,n;return G().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-toolbar_burger]"),n=document.querySelector("[data-toolbar_nav]"),document.querySelectorAll("[data-link]"),e.addEventListener("click",function(t){n.classList.toggle("toolbar__right--active"),e.classList.toggle("toolbar-burger--active")});case 1:return t.a(2)}},t)}),F=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){P(o,r,a,c,i,"next",t)}function i(t){P(o,r,a,c,i,"throw",t)}c(void 0)})}).apply(this,arguments);var t}function M(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return N(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(N(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,N(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,N(f,"constructor",l),N(l,"constructor",u),u.displayName="GeneratorFunction",N(l,a,"GeneratorFunction"),N(f),N(f,a,"Generator"),N(f,r,function(){return this}),N(f,"toString",function(){return"[object Generator]"}),(M=function(){return{w:o,m:p}})()}function N(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}N=function(t,e,n,r){function o(e,n){N(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},N(t,e,n,r)}function H(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function A(){return z.apply(this,arguments)}function z(){var t;return t=M().m(function t(){return M().w(function(t){for(;;)switch(t.n){case 0:document.querySelector("[data-home_title_name]").textContent=n.player.name;case 1:return t.a(2)}},t)}),z=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){H(o,r,a,c,i,"next",t)}function i(t){H(o,r,a,c,i,"throw",t)}c(void 0)})},z.apply(this,arguments)}function D(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return B(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(B(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,B(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,B(f,"constructor",l),B(l,"constructor",u),u.displayName="GeneratorFunction",B(l,a,"GeneratorFunction"),B(f),B(f,a,"Generator"),B(f,r,function(){return this}),B(f,"toString",function(){return"[object Generator]"}),(D=function(){return{w:o,m:p}})()}function B(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}B=function(t,e,n,r){function o(e,n){B(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},B(t,e,n,r)}function I(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function J(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){I(o,r,a,c,i,"next",t)}function i(t){I(o,r,a,c,i,"throw",t)}c(void 0)})}}function U(){return K.apply(this,arguments)}function K(){return K=J(D().m(function t(){var e,a;return D().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-register_btn]"),a=document.querySelector("[data-register_input]"),S&&e&&e.removeEventListener("click",S),O&&a&&a.removeEventListener("input",O),S=function(){var t=J(D().m(function t(e){return D().w(function(t){for(;;)switch(t.n){case 0:return n.player.name=a.value,r(),t.n=1,et(e);case 1:return t.n=2,A();case 2:return t.n=3,lt();case 3:m();case 4:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),O=function(t){t.target.value.length>=1?e.disabled=!1:e.disabled=!0},e&&a&&(e.addEventListener("click",S),a.addEventListener("input",O));case 1:return t.a(2)}},t)})),K.apply(this,arguments)}var Q=null,R=null;function V(){var t=document.querySelector("[data-settings_change_name]"),e=document.querySelector("[data-edit_change_name]"),a=document.querySelector("[data-settings_change_name_input]"),o=document.querySelector("[data-settings_change-name_current_name]");o.textContent=n.player.name;var c=n.player.name;Q&&(e.removeEventListener("click",Q),t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c),R&&a.removeEventListener("input",R),Q=function(i){t.classList.contains("settings__change-name--active")?(t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c):(t.classList.add("settings__change-name--active"),e.textContent="Save",a.value=c),n.player.name=a.value.trim(),r()},R=function(t){var n=t.target;n.value?(e.disabled=!1,c=n.value.trim()):e.disabled=!0},e.addEventListener("click",Q),a.addEventListener("input",R)}function W(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return X(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(X(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,X(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,X(f,"constructor",l),X(l,"constructor",u),u.displayName="GeneratorFunction",X(l,a,"GeneratorFunction"),X(f),X(f,a,"Generator"),X(f,r,function(){return this}),X(f,"toString",function(){return"[object Generator]"}),(W=function(){return{w:o,m:p}})()}function X(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}X=function(t,e,n,r){function o(e,n){X(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},X(t,e,n,r)}function Y(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function $(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Y(o,r,a,c,i,"next",t)}function i(t){Y(o,r,a,c,i,"throw",t)}c(void 0)})}}var tt={"/register":"views/register.html","/home":"views/home.html","/character":"views/character.html","/settings":"views/settings.html","/battle":"views/battle.html"},et=function(){var t=$(W().m(function t(e){var n,r;return W().w(function(t){for(;;)switch(t.n){case 0:return n=e.target,r=n.dataset.link,m(),window.location.hash=r,t.n=1,rt();case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),nt=function(t){window.location.hash=t},rt=function(){var t=$(W().m(function t(){var e,r,a,o,c;return W().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=window.location.hash.replace("#","")||"/home",r=tt[e]||"views/home.html",t.p=1,t.n=2,fetch(r).then(function(t){return t.text()});case 2:if(a=t.v,!n.player.name||"/register"===e){t.n=5;break}return t.n=3,fetch("views/toolbar.html").then(function(t){return t.text()});case 3:return o=t.v,document.getElementById("root").innerHTML=a+o,t.n=4,lt();case 4:t.n=6;break;case 5:document.getElementById("root").innerHTML=a;case 6:return({"/home":A,"/register":U,"/character":Zt,"/settings":V,"/battle":T}[e]||A)(),t.n=7,Z();case 7:h(.05),t.n=9;break;case 8:t.p=8,c=t.v,console.error("Error loading route:",c),nt("/home"),A();case 9:return t.a(2)}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}();function at(t){return t[0].toUpperCase()+t.slice(1)}function ot(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return ct(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ct(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,ct(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,ct(f,"constructor",l),ct(l,"constructor",u),u.displayName="GeneratorFunction",ct(l,a,"GeneratorFunction"),ct(f),ct(f,a,"Generator"),ct(f,r,function(){return this}),ct(f,"toString",function(){return"[object Generator]"}),(ot=function(){return{w:o,m:p}})()}function ct(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}ct=function(t,e,n,r){function o(e,n){ct(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ct(t,e,n,r)}function it(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function ut(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){it(o,r,a,c,i,"next",t)}function i(t){it(o,r,a,c,i,"throw",t)}c(void 0)})}}function lt(){return st.apply(this,arguments)}function st(){return st=ut(ot().m(function t(){return ot().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll("[data-link]").forEach(function(t){t.dataset.link,t.addEventListener("click",function(){var e=ut(ot().m(function e(n){var r;return ot().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,et(n);case 1:r=t.dataset.page_btn,document.querySelector("[data-page_title]").textContent=at(r);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())});case 1:return t.a(2)}},t)})),st.apply(this,arguments)}function ft(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return pt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(pt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,pt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,pt(f,"constructor",l),pt(l,"constructor",u),u.displayName="GeneratorFunction",pt(l,a,"GeneratorFunction"),pt(f),pt(f,a,"Generator"),pt(f,r,function(){return this}),pt(f,"toString",function(){return"[object Generator]"}),(ft=function(){return{w:o,m:p}})()}function pt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}pt=function(t,e,n,r){function o(e,n){pt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},pt(t,e,n,r)}function dt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function ht(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){dt(o,r,a,c,i,"next",t)}function i(t){dt(o,r,a,c,i,"throw",t)}c(void 0)})}}document.addEventListener("DOMContentLoaded",function(){var t=window.location.hash.replace("#","")||"/home";n.player.name?(nt(t),rt()):nt("/register")}),window.addEventListener("hashchange",rt);var vt=null,yt=null,mt=null,_t=null,gt=null,bt=null,kt=null;function wt(t){return St.apply(this,arguments)}function St(){return St=ht(ft().m(function t(a){var u,l,s,f,p,d,h,v,y,m,_;return ft().w(function(t){for(;;)switch(t.n){case 0:u=document.querySelector("body"),l=document.querySelector(a),s=l.querySelector("[data-popup_container]"),f=[{opacity:"0"},{opacity:"1"}],p={duration:400,fill:"forwards"},s.animate(f,p),l.classList.add("popup--active"),u.classList.add("lock"),d=document.querySelector('[data-avatar_name="frodo"]'),h=document.querySelector('[data-avatar_name="gandalf"]'),v=document.querySelector('[data-avatar_name="aragorn"]'),y=document.querySelector('[data-avatar_name="legolas"]'),vt&&l.removeEventListener("click",vt),yt&&d&&d.removeEventListener("click",yt),mt&&h&&h.removeEventListener("click",mt),_t&&v&&v.removeEventListener("click",_t),gt&&y&&y.removeEventListener("click",gt),vt=function(t){var e=t.target;e.closest(".popup__container")||(Ot(a),'[data-popup="results"]'===a&&(q(),T(),r())),e.closest(".popup__close")&&(Ot(a),'[data-popup="results"]'===a&&(q(),T(),r()))},yt=function(t){n.player.avatar=e,jt("frodo"),Zt(),r(),Ot('[data-popup="character_change"]')},mt=function(t){n.player.avatar=o,jt("gandalf"),Zt(),r(),Ot('[data-popup="character_change"]')},_t=function(t){n.player.avatar=c,jt("aragorn"),Zt(),r(),Ot('[data-popup="character_change"]')},gt=function(t){n.player.avatar=i,jt("legolas"),Zt(),r(),Ot('[data-popup="character_change"]')},l.addEventListener("click",vt),d&&h&&v&&y&&(d.addEventListener("click",yt),h.addEventListener("click",mt),v.addEventListener("click",_t),y.addEventListener("click",gt)),m=document.querySelector("[data-popup_results_btn_fight]"),_=document.querySelector("[data-popup_results_btn_character]"),bt&&m&&m.removeEventListener("click",bt),kt&&_&&_.removeEventListener("click",kt),kt=function(){var t=ht(ft().m(function t(e){return ft().w(function(t){for(;;)switch(t.n){case 0:return Ot('[data-popup="results"'),q(),T(),t.n=1,zt("./views/character.html");case 1:return t.n=2,Bt("./views/toolbar.html");case 2:Zt(),r();case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),bt=function(t){Ot('[data-popup="results"'),q(),T(),r()},m&&_&&(m.addEventListener("click",bt),_.addEventListener("click",kt));case 1:return t.a(2)}},t)})),St.apply(this,arguments)}function Ot(t){var e=document.querySelector(t),n=e.querySelector("[data-popup_container]"),r=document.querySelector("body"),a=n.animate([{opacity:"1"},{opacity:"0"}],{duration:400,fill:"forwards"}),o=document.querySelector('[data-popup="character_change"]');a.addEventListener("finish",function(){r.classList.remove("lock"),e.classList.remove("popup--active"),e.remove(),o&&Zt(),Z(),lt()})}function jt(t){var e=n.avatars.find(function(e){return e.avatarName===t});n.player.attack=e.attack,n.player.attackZones=e.attackZones,n.player.defendZones=e.defendZones,n.player.critChance=e.critChance,n.player.critMultiplier=e.critMultiplier,n.player.maxHealth=e.maxHealth,n.player.health>e.maxHealth&&(n.player.health=e.health),r()}function Et(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return xt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(xt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,xt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,xt(f,"constructor",l),xt(l,"constructor",u),u.displayName="GeneratorFunction",xt(l,a,"GeneratorFunction"),xt(f),xt(f,a,"Generator"),xt(f,r,function(){return this}),xt(f,"toString",function(){return"[object Generator]"}),(Et=function(){return{w:o,m:p}})()}function xt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}xt=function(t,e,n,r){function o(e,n){xt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},xt(t,e,n,r)}function Lt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function Tt(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Lt(o,r,a,c,i,"next",t)}function i(t){Lt(o,r,a,c,i,"throw",t)}c(void 0)})}}var qt=null,Gt=null,Ct=null,Pt=null;function Zt(){document.querySelector('[data-popup="character_change"]');var t=document.querySelector("[data-character_edit_container]"),e=document.querySelector("[data-character_avatar]"),r=document.querySelector("[data-character_avatar_btn]"),a=document.querySelector("[data-character_avatar_img]"),o=document.querySelector("[data-character_name]"),c=document.querySelector("[data-result_wins]"),i=document.querySelector("[data-result_loses]");a.src=n.player.avatar,o.textContent=n.player.name,c.textContent=n.player.wins,i.textContent=n.player.loses;var u="character__avatar-edit-container--active";t.classList.remove(u),qt&&e.removeEventListener("mouseover",qt),Gt&&e.removeEventListener("mouseout",Gt),Ct&&t.removeEventListener("click",Ct),Pt&&r.removeEventListener("click",Pt),qt=function(e){t.classList.add(u)},Gt=function(e){t.classList.remove(u)},Ct=function(){var t=Tt(Et().m(function t(e){return Et().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Bt("./views/popup_character.html");case 1:return t.n=2,wt('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Pt=function(){var t=Tt(Et().m(function t(e){return Et().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Bt("./views/popup_character.html");case 1:return t.n=2,wt('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),e.addEventListener("mouseover",qt),e.addEventListener("mouseout",Gt),t.addEventListener("click",Ct),r.addEventListener("click",Pt)}function Ft(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Mt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Mt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Mt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,Mt(f,"constructor",l),Mt(l,"constructor",u),u.displayName="GeneratorFunction",Mt(l,a,"GeneratorFunction"),Mt(f),Mt(f,a,"Generator"),Mt(f,r,function(){return this}),Mt(f,"toString",function(){return"[object Generator]"}),(Ft=function(){return{w:o,m:p}})()}function Mt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Mt=function(t,e,n,r){function o(e,n){Mt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Mt(t,e,n,r)}function Nt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function Ht(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Nt(o,r,a,c,i,"next",t)}function i(t){Nt(o,r,a,c,i,"throw",t)}c(void 0)})}}function At(){return(At=Ht(Ft().m(function t(){return Ft().w(function(t){for(;;)switch(t.n){case 0:if(a(),n.player.name){t.n=3;break}return nt("/register"),t.n=1,zt("views/register.html");case 1:return t.n=2,U();case 2:t.n=4;break;case 3:nt("/home"),rt();case 4:return t.a(2)}},t)}))).apply(this,arguments)}function zt(t){return Dt.apply(this,arguments)}function Dt(){return(Dt=Ht(Ft().m(function t(e){var n;return Ft().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML=n,h(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}function Bt(t){return It.apply(this,arguments)}function It(){return(It=Ht(Ft().m(function t(e){var n;return Ft().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML+=n,h(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}!function(){v||((v=d(p,arguments.length>0&&void 0!==arguments[0]?arguments[0]:.025)).loop=!0)}(),window.addEventListener("DOMContentLoaded",function(){a(),function(){At.apply(this,arguments)}()})}();