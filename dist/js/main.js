/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";var t="",e=t+"assets/images/character_frodo.jpg",n={player:{name:"",avatar:"",wins:0,loses:0,health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},avatars:[{avatarName:"frodo",health:100,maxHealth:100,attack:10,attackZones:1,defendZones:2,critChance:.2,critMultiplier:1.5},{avatarName:"aragorn",health:100,maxHealth:100,attack:12,critChance:.15,critMultiplier:1.25,attackZones:2,defendZones:2},{avatarName:"legolas",health:100,maxHealth:100,attack:18,critChance:.25,critMultiplier:1.35,attackZones:2,defendZones:1},{avatarName:"gandalf",health:150,maxHealth:150,attack:15,critChance:.1,critMultiplier:1.15,attackZones:2,defendZones:2}],battle:{playerAttack:[],playerDefend:[],enemyAttack:[],enemyDefend:[],log:[]},enemy:{},enemies:[{name:"Spider",avatar:t+"assets/images/enemy_spider.jpg",health:80,maxHealth:80,attack:12,critChance:.25,critMultiplier:1.5,attackZones:2,defendZones:1},{name:"Troll",avatar:t+"assets/images/enemy_troll.jpg",health:120,maxHealth:120,attack:8,critChance:.1,critMultiplier:2,attackZones:1,defendZones:3},{name:"Knight",avatar:t+"assets/images/enemy_knight.jpg",health:100,maxHealth:100,attack:10,critChance:.15,critMultiplier:1.5,attackZones:1,defendZones:2},{name:"Sauron",avatar:t+"assets/images/enemy_sauron.jpg",health:150,maxHealth:150,attack:15,critChance:.15,critMultiplier:1.5,attackZones:2,defendZones:2}]};function r(){localStorage.setItem("notFightClubGame",JSON.stringify(n))}function a(){var t=localStorage.getItem("notFightClubGame");if(t){var e=JSON.parse(t);Object.assign(n,e)}}var o=t+"assets/images/character_gandalf.jpg",c=t+"assets/images/character_aragorn.jpg",i=t+"assets/images/character_legolas.jpg",u=t+"assets/icons/cup.svg",l=t+"assets/icons/lose.svg",s=t+"assets/sounds/click.mp3",f=t+"assets/sounds/fight.mp3";function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=new Audio;return n.src=t,n.volume=e,n}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,e=document.querySelectorAll("[data-sound]"),n=p(s,t),r=p(f,t);e.forEach(function(t){var e=t.dataset.sound;t.addEventListener("click",function(t){"click"===e&&n.play(),"fight"===e&&r.play()})})}var h=t+"assets/sounds/win.mp3",v=t+"assets/sounds/lose.mp3";function y(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return m(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(m(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,m(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,m(f,"constructor",l),m(l,"constructor",u),u.displayName="GeneratorFunction",m(l,a,"GeneratorFunction"),m(f),m(f,a,"Generator"),m(f,r,function(){return this}),m(f,"toString",function(){return"[object Generator]"}),(y=function(){return{w:o,m:p}})()}function m(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}m=function(t,e,n,r){function o(e,n){m(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},m(t,e,n,r)}function _(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}var g,b,k=null,w=null,S=null,O=!1;function E(){var t=document.querySelector("[data-battle_log]");if(n.enemy.name)n.battle.log.forEach(function(t){t.isCrit&&t.isBlocked?L(t):t.isBlocked?T(t):L(t)});else{var e=Math.floor(Math.random()*n.enemies.length);n.enemy=JSON.parse(JSON.stringify(n.enemies[e])),r()}Z();var a=document.querySelector("[data-battle_controls_attack_btn]");a.disabled=!0;var o=document.querySelector("[data-battle_zone_attack]"),c=document.querySelector("[data-battle_zone_defence]"),i=o.querySelectorAll("input"),s=c.querySelectorAll("input");i.forEach(function(t){t.checked=!1}),s.forEach(function(t){t.checked=!1}),k&&o.removeEventListener("click",k),w&&c.removeEventListener("click",w);var f=n.player.attackZones,d=[];k=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=o.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_attack_radio]")&&(e.checked&&d.length<f&&d.push(e),e.checked||(e.checked=!1,d=d.filter(function(t){return t!=e})),n>f&&(d.shift().checked=!1,d.push(e))),b()}};var m=n.player.defendZones,g=[];function b(){f===d.length&m===g.length?a.disabled=!1:a.disabled=!0}w=function(t){var e=t.target;if("LABEL"!==e.tagName){var n=c.querySelectorAll("input:checked").length;e.closest("[data-battle_zone_defence_radio]")&&(e.checked&&g.length<m&&g.push(e),e.checked||(e.checked=!1,g=g.filter(function(t){return t!=e})),n>m&&(g.shift().checked=!1,g.push(e))),b()}},o.addEventListener("click",k),c.addEventListener("click",w),S&&a.removeEventListener("click",S),S=function(t){var e,a,o=[],c=[];d.forEach(function(t){o.push(t.dataset.battle_zone_attack_input)}),g.forEach(function(t){c.push(t.dataset.battle_zone_defence_input)}),(e=n.battle.playerAttack).push.apply(e,o),(a=n.battle.playerDefend).push.apply(a,c),function(){for(var t=0;n.battle.enemyAttack.length<n.enemy.attackZones;t++){var e=Math.floor(Math.random()*E.length);n.battle.enemyAttack.includes(E[e])||n.battle.enemyAttack.push(E[e])}}(),function(){for(var t=0;n.battle.enemyDefend.length<n.enemy.defendZones;t++){var e=Math.floor(Math.random()*E.length);n.battle.enemyDefend.includes(E[e])||n.battle.enemyDefend.push(E[e])}}(),r(),j(),n.battle.playerAttack=[],n.battle.playerDefend=[],n.battle.enemyAttack=[],n.battle.enemyDefend=[],r()},a.addEventListener("click",S);var E=["head","neck","body","belly","legs"];function j(){x("player"),n.enemy.health>=1&&x("enemy")}function x(t){var e,r;"player"===t?(e="player",r="enemy"):"enemy"===t&&(e="enemy",r="player");var a=e+"Attack",o=r+"Defend";n.battle[a].forEach(function(t){var a=n.player.critChance>Math.random(),c=a?Math.floor(n[e].attack*n[e].critMultiplier):n[e].attack,i="player"===e,u=i?"character":"enemy",l=i?"enemy":"character",s={attackerName:n[e].name,defenderName:n[r].name,attackZone:t,isCrit:a,damage:c,isBlocked:n.battle[o].includes(t),attackingCharacterSpan:u,defendingCharacterSpan:l,characterAttack:e,characterDefend:r};n.battle.log.push(s),s.isCrit&&s.isBlocked?L(s):s.isBlocked?T(s):L(s),function(t,e){n[t].health=n[t].health-e,Z()}(s.characterDefend,c)})}function L(e){e.damage,e.characterDefend;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.isCrit,o=t.damage,c=t.isBlocked,i=t.attackingCharacterSpan,u=t.defendingCharacterSpan,l=r[0].toUpperCase()+r.slice(1);return a&&c?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            tried to block but <span class="battle__log-item-').concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span> was very lucky and crit his opponent for <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):a?'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and crit\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    "):'\n            <span class="battle__log-item-'.concat(i,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(u,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(l,'</span>\n            and deal\n            <span class="battle__log-item-damage battle__log-item-span" data-battle_log_zone_span>').concat(o," damage</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function T(e){e.attackerName,e.defenderName,e.attackZone;var n=document.createElement("div");n.classList.add("battle__log-item"),n.innerHTML=function(t){var e=t.attackerName,n=t.defenderName,r=t.attackZone,a=t.attackingCharacterSpan,o=t.defendingCharacterSpan,c=r[0].toUpperCase()+r.slice(1);return'\n            <span class="battle__log-item-'.concat(a,' battle__log-item-span" data-battle_log_character_span>').concat(e,'</span>\n            attacked\n            <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            to\n            <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,'</span>\n            but <span class="battle__log-item-').concat(o,' battle__log-item-span" data-battle_log_enemy_span>').concat(n,'</span>\n            was able to <span class="battle__log-item-defend battle__log-item-span" data-battle_log_protect_span>protect</span>\n            his  <span class="battle__log-item-zone battle__log-item-span" data-battle_log_zone_span>').concat(c,"</span>\n    ")}(e),t.append(n),t.scrollTop=t.scrollHeight}function q(t){return G.apply(this,arguments)}function G(){var e;return e=y().m(function e(n){var r,a,o,c;return y().w(function(e){for(;;)switch(e.n){case 0:return console.log(t.scrollHeight),r=t.scrollTop,e.n=1,At("./views/popup_results.html");case 1:(a=document.querySelector("[data-battle_log]"))&&(a.scrollTop=r),document.querySelector('[data-popup="results"]'),o=document.querySelector("[data-popup__title]"),(c=document.createElement("img")).classList.add("popup__results-icon"),"win"===n?(c.src=u,o.textContent="Congratulations with your win!",o.append(c),C(),_t('[data-popup="results"]'),p(h,.1).play()):(c.src=l,o.textContent="Maybe next time",o.append(c),P(),_t('[data-popup="results"]'),p(v,.1).play());case 2:return e.a(2)}},e)}),G=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(t){_(o,r,a,c,i,"next",t)}function i(t){_(o,r,a,c,i,"throw",t)}c(void 0)})},G.apply(this,arguments)}function P(){n.player.loses=n.player.loses+1,r()}function C(){n.player.wins=n.player.wins+1,r()}function Z(){var t=document.querySelector("[data-battle_character_avatar_img]"),e=document.querySelector("[data-battle_character_name]"),r=document.querySelector("[data-battle_character_current_health]"),a=document.querySelector("[data-battle_character_total_health]"),o=document.querySelector("[data-battle_attack_amount]"),c=document.querySelector("[data-battle_defence_amount]");o.textContent=n.player.attackZones,c.textContent=n.player.defendZones;var i=document.querySelector("[data-avatar_health_bg]"),u=document.querySelector("[data-enemy_health_bg]");t.src=n.player.avatar,e.textContent=n.player.name,n.player.health>=1?(r.textContent=n.player.health,i.style.width="".concat(100*n.player.health/n.player.maxHealth,"%")):(r.textContent=0,i.style.width="0%",O||(O=!0,q("lose"))),a.textContent=n.player.maxHealth;var l=document.querySelector("[data-battle_enemy_avatar_img]"),s=document.querySelector("[data-battle_enemy_name]"),f=document.querySelector("[data-battle_enemy_current_health]"),p=document.querySelector("[data-battle_enemy_total_health]");l.src=n.enemy.avatar,s.textContent=n.enemy.name,n.enemy.health>0?(f.textContent=n.enemy.health,u.style.width="".concat(100*n.enemy.health/n.enemy.maxHealth,"%")):(f.textContent=0,u.style.width="0%",O||(O=!0,q("win"))),p.textContent=n.enemy.maxHealth}j()}function j(){O=!1,n.player.health=n.player.maxHealth,n.enemy={},n.battle.log=[],document.querySelector("[data-battle_log]").textContent="",r()}function x(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return L(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(L(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,L(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,L(f,"constructor",l),L(l,"constructor",u),u.displayName="GeneratorFunction",L(l,a,"GeneratorFunction"),L(f),L(f,a,"Generator"),L(f,r,function(){return this}),L(f,"toString",function(){return"[object Generator]"}),(x=function(){return{w:o,m:p}})()}function L(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}L=function(t,e,n,r){function o(e,n){L(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},L(t,e,n,r)}function T(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function q(){return G.apply(this,arguments)}function G(){return(t=x().m(function t(){var e,n;return x().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-toolbar_burger]"),n=document.querySelector("[data-toolbar_nav]"),document.querySelectorAll("[data-link]"),e.addEventListener("click",function(t){n.classList.toggle("toolbar__right--active"),e.classList.toggle("toolbar-burger--active")});case 1:return t.a(2)}},t)}),G=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){T(o,r,a,c,i,"next",t)}function i(t){T(o,r,a,c,i,"throw",t)}c(void 0)})}).apply(this,arguments);var t}function P(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return C(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(C(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,C(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,C(f,"constructor",l),C(l,"constructor",u),u.displayName="GeneratorFunction",C(l,a,"GeneratorFunction"),C(f),C(f,a,"Generator"),C(f,r,function(){return this}),C(f,"toString",function(){return"[object Generator]"}),(P=function(){return{w:o,m:p}})()}function C(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}C=function(t,e,n,r){function o(e,n){C(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},C(t,e,n,r)}function Z(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function F(){return M.apply(this,arguments)}function M(){var t;return t=P().m(function t(){return P().w(function(t){for(;;)switch(t.n){case 0:document.querySelector("[data-home_title_name]").textContent=n.player.name;case 1:return t.a(2)}},t)}),M=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Z(o,r,a,c,i,"next",t)}function i(t){Z(o,r,a,c,i,"throw",t)}c(void 0)})},M.apply(this,arguments)}function N(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return H(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(H(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,H(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,H(f,"constructor",l),H(l,"constructor",u),u.displayName="GeneratorFunction",H(l,a,"GeneratorFunction"),H(f),H(f,a,"Generator"),H(f,r,function(){return this}),H(f,"toString",function(){return"[object Generator]"}),(N=function(){return{w:o,m:p}})()}function H(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}H=function(t,e,n,r){function o(e,n){H(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},H(t,e,n,r)}function A(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function z(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){A(o,r,a,c,i,"next",t)}function i(t){A(o,r,a,c,i,"throw",t)}c(void 0)})}}function D(){return B.apply(this,arguments)}function B(){return B=z(N().m(function t(){var e,a;return N().w(function(t){for(;;)switch(t.n){case 0:e=document.querySelector("[data-register_btn]"),a=document.querySelector("[data-register_input]"),g&&e&&e.removeEventListener("click",g),b&&a&&a.removeEventListener("input",b),g=function(){var t=z(N().m(function t(e){return N().w(function(t){for(;;)switch(t.n){case 0:return n.player.name=a.value,r(),t.n=1,X(e);case 1:return t.n=2,F();case 2:return t.n=3,ot();case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),b=function(t){t.target.value.length>=1?e.disabled=!1:e.disabled=!0},e&&a&&(e.addEventListener("click",g),a.addEventListener("input",b));case 1:return t.a(2)}},t)})),B.apply(this,arguments)}var I=null,J=null;function U(){var t=document.querySelector("[data-settings_change_name]"),e=document.querySelector("[data-edit_change_name]"),a=document.querySelector("[data-settings_change_name_input]"),o=document.querySelector("[data-settings_change-name_current_name]");o.textContent=n.player.name;var c=n.player.name;I&&(e.removeEventListener("click",I),t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c),J&&a.removeEventListener("input",J),I=function(i){t.classList.contains("settings__change-name--active")?(t.classList.remove("settings__change-name--active"),e.textContent="Edit",o.textContent=c):(t.classList.add("settings__change-name--active"),e.textContent="Save",a.value=c),n.player.name=a.value.trim(),r()},J=function(t){var n=t.target;n.value?(e.disabled=!1,c=n.value.trim()):e.disabled=!0},e.addEventListener("click",I),a.addEventListener("input",J)}function K(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Q(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Q(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Q(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,Q(f,"constructor",l),Q(l,"constructor",u),u.displayName="GeneratorFunction",Q(l,a,"GeneratorFunction"),Q(f),Q(f,a,"Generator"),Q(f,r,function(){return this}),Q(f,"toString",function(){return"[object Generator]"}),(K=function(){return{w:o,m:p}})()}function Q(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Q=function(t,e,n,r){function o(e,n){Q(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Q(t,e,n,r)}function R(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function V(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){R(o,r,a,c,i,"next",t)}function i(t){R(o,r,a,c,i,"throw",t)}c(void 0)})}}var W={"/register":"/views/register.html","/index.html":"/views/home.html","/":"/views/home.html","/home":"/views/home.html","/character":"/views/character.html","/settings":"/views/settings.html","/battle":"/views/battle.html"},X=function(){var t=V(K().m(function t(e){var n,r;return K().w(function(t){for(;;)switch(t.n){case 0:return n=e.target,r=n.dataset.link,window.history.pushState({},"",r),t.n=1,$();case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Y=function(t){window.history.pushState({},"",t)},$=function(){var t=V(K().m(function t(){var e,n,r,a,o;return K().w(function(t){for(;;)switch(t.n){case 0:return e=window.location.pathname,n=W[e]||"/home","/"===e&&(Y("/home"),Ft()),"/index.html"===e&&(Y("/home"),Ft()),W[e]||(Y("/home"),Ft()),t.n=1,fetch(n).then(function(t){return t.text()});case 1:return r=t.v,t.n=2,fetch("./views/toolbar.html").then(function(t){return t.text()});case 2:return a=t.v,document.getElementById("root").innerHTML=r,document.getElementById("root").innerHTML+=a,(o={"/":F,"/index.html":F,"/home":F,"/register":D,"/character":qt,"/settings":U,"/battle":E}[e])?o():o=F,t.n=3,ot();case 3:return t.n=4,q();case 4:d(.05);case 5:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}();function tt(t){return t[0].toUpperCase()+t.slice(1)}function et(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return nt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(nt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,nt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,nt(f,"constructor",l),nt(l,"constructor",u),u.displayName="GeneratorFunction",nt(l,a,"GeneratorFunction"),nt(f),nt(f,a,"Generator"),nt(f,r,function(){return this}),nt(f,"toString",function(){return"[object Generator]"}),(et=function(){return{w:o,m:p}})()}function nt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}nt=function(t,e,n,r){function o(e,n){nt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},nt(t,e,n,r)}function rt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function at(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){rt(o,r,a,c,i,"next",t)}function i(t){rt(o,r,a,c,i,"throw",t)}c(void 0)})}}function ot(){return ct.apply(this,arguments)}function ct(){return ct=at(et().m(function t(){return et().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll("[data-link]").forEach(function(t){t.dataset.link,t.addEventListener("click",function(){var e=at(et().m(function e(n){var r;return et().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,X(n);case 1:r=t.dataset.page_btn,document.querySelector("[data-page_title]").textContent=tt(r);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())});case 1:return t.a(2)}},t)})),ct.apply(this,arguments)}function it(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return ut(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ut(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,ut(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,ut(f,"constructor",l),ut(l,"constructor",u),u.displayName="GeneratorFunction",ut(l,a,"GeneratorFunction"),ut(f),ut(f,a,"Generator"),ut(f,r,function(){return this}),ut(f,"toString",function(){return"[object Generator]"}),(it=function(){return{w:o,m:p}})()}function ut(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}ut=function(t,e,n,r){function o(e,n){ut(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ut(t,e,n,r)}function lt(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function st(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){lt(o,r,a,c,i,"next",t)}function i(t){lt(o,r,a,c,i,"throw",t)}c(void 0)})}}window.addEventListener("popstate",$);var ft=null,pt=null,dt=null,ht=null,vt=null,yt=null,mt=null;function _t(t){return gt.apply(this,arguments)}function gt(){return gt=st(it().m(function t(a){var u,l,s,f,p,d,h,v,y,m,_;return it().w(function(t){for(;;)switch(t.n){case 0:u=document.querySelector("body"),l=document.querySelector(a),s=l.querySelector("[data-popup_container]"),f=[{opacity:"0"},{opacity:"1"}],p={duration:400,fill:"forwards"},s.animate(f,p),l.classList.add("popup--active"),u.classList.add("lock"),d=document.querySelector('[data-avatar_name="frodo"]'),h=document.querySelector('[data-avatar_name="gandalf"]'),v=document.querySelector('[data-avatar_name="aragorn"]'),y=document.querySelector('[data-avatar_name="legolas"]'),ft&&l.removeEventListener("click",ft),pt&&d&&d.removeEventListener("click",pt),dt&&h&&h.removeEventListener("click",dt),ht&&v&&v.removeEventListener("click",ht),vt&&y&&y.removeEventListener("click",vt),ft=function(t){var e=t.target;e.closest(".popup__container")||(bt(a),'[data-popup="results"]'===a&&(j(),E(),r())),e.closest(".popup__close")&&(bt(a),'[data-popup="results"]'===a&&(j(),E(),r()))},pt=function(t){n.player.avatar=e,kt("frodo"),qt(),r(),bt('[data-popup="character_change"]')},dt=function(t){n.player.avatar=o,kt("gandalf"),qt(),r(),bt('[data-popup="character_change"]')},ht=function(t){n.player.avatar=c,kt("aragorn"),qt(),r(),bt('[data-popup="character_change"]')},vt=function(t){n.player.avatar=i,kt("legolas"),qt(),r(),bt('[data-popup="character_change"]')},l.addEventListener("click",ft),d&&h&&v&&y&&(d.addEventListener("click",pt),h.addEventListener("click",dt),v.addEventListener("click",ht),y.addEventListener("click",vt)),m=document.querySelector("[data-popup_results_btn_fight]"),_=document.querySelector("[data-popup_results_btn_character]"),yt&&m&&m.removeEventListener("click",yt),mt&&_&&_.removeEventListener("click",mt),mt=function(){var t=st(it().m(function t(e){return it().w(function(t){for(;;)switch(t.n){case 0:return bt('[data-popup="results"'),j(),E(),t.n=1,Nt("./views/character.html");case 1:return t.n=2,At("./views/toolbar.html");case 2:qt(),r();case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),yt=function(t){bt('[data-popup="results"'),j(),E(),r()},m&&_&&(m.addEventListener("click",yt),_.addEventListener("click",mt));case 1:return t.a(2)}},t)})),gt.apply(this,arguments)}function bt(t){var e=document.querySelector(t),n=e.querySelector("[data-popup_container]"),r=document.querySelector("body"),a=n.animate([{opacity:"1"},{opacity:"0"}],{duration:400,fill:"forwards"}),o=document.querySelector('[data-popup="character_change"]');a.addEventListener("finish",function(){r.classList.remove("lock"),e.classList.remove("popup--active"),e.remove(),o&&qt(),q(),ot()})}function kt(t){var e=n.avatars.find(function(e){return e.avatarName===t});n.player.attack=e.attack,n.player.attackZones=e.attackZones,n.player.defendZones=e.defendZones,n.player.critChance=e.critChance,n.player.critMultiplier=e.critMultiplier,n.player.maxHealth=e.maxHealth,n.player.health>e.maxHealth&&(n.player.health=e.health),r()}function wt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return St(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(St(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,St(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,St(f,"constructor",l),St(l,"constructor",u),u.displayName="GeneratorFunction",St(l,a,"GeneratorFunction"),St(f),St(f,a,"Generator"),St(f,r,function(){return this}),St(f,"toString",function(){return"[object Generator]"}),(wt=function(){return{w:o,m:p}})()}function St(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}St=function(t,e,n,r){function o(e,n){St(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},St(t,e,n,r)}function Ot(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function Et(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Ot(o,r,a,c,i,"next",t)}function i(t){Ot(o,r,a,c,i,"throw",t)}c(void 0)})}}var jt=null,xt=null,Lt=null,Tt=null;function qt(){document.querySelector('[data-popup="character_change"]');var t=document.querySelector("[data-character_edit_container]"),e=document.querySelector("[data-character_avatar]"),r=document.querySelector("[data-character_avatar_btn]"),a=document.querySelector("[data-character_avatar_img]"),o=document.querySelector("[data-character_name]"),c=document.querySelector("[data-result_wins]"),i=document.querySelector("[data-result_loses]");a.src=n.player.avatar,o.textContent=n.player.name,c.textContent=n.player.wins,i.textContent=n.player.loses;var u="character__avatar-edit-container--active";t.classList.remove(u),jt&&e.removeEventListener("mouseover",jt),xt&&e.removeEventListener("mouseout",xt),Lt&&t.removeEventListener("click",Lt),Tt&&r.removeEventListener("click",Tt),jt=function(e){t.classList.add(u)},xt=function(e){t.classList.remove(u)},Lt=function(){var t=Et(wt().m(function t(e){return wt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,At("./views/popup_character.html");case 1:return t.n=2,_t('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Tt=function(){var t=Et(wt().m(function t(e){return wt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,At("./views/popup_character.html");case 1:return t.n=2,_t('[data-popup="character_change"]');case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),e.addEventListener("mouseover",jt),e.addEventListener("mouseout",xt),t.addEventListener("click",Lt),r.addEventListener("click",Tt)}function Gt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Pt(l,"_invoke",function(n,r,a){var o,i,u,l=0,s=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,i=0,u=t,p.n=n,c}};function d(n,r){for(i=n,u=r,e=0;!f&&l&&!a&&e<s.length;e++){var a,o=s[e],d=p.p,h=o[2];n>3?(a=h===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,p.v=r,p.n=o[1]):d<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,p.n=h,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,h),i=s,u=h;(e=i<2?t:u)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){o=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,o),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Pt(e={},r,function(){return this}),e),f=l.prototype=i.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Pt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,Pt(f,"constructor",l),Pt(l,"constructor",u),u.displayName="GeneratorFunction",Pt(l,a,"GeneratorFunction"),Pt(f),Pt(f,a,"Generator"),Pt(f,r,function(){return this}),Pt(f,"toString",function(){return"[object Generator]"}),(Gt=function(){return{w:o,m:p}})()}function Pt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Pt=function(t,e,n,r){function o(e,n){Pt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Pt(t,e,n,r)}function Ct(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function Zt(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){Ct(o,r,a,c,i,"next",t)}function i(t){Ct(o,r,a,c,i,"throw",t)}c(void 0)})}}function Ft(){return Mt.apply(this,arguments)}function Mt(){return(Mt=Zt(Gt().m(function t(){return Gt().w(function(t){for(;;)switch(t.n){case 0:if(a(),!n.player.name){t.n=5;break}return t.n=1,Nt("./views/home.html");case 1:return t.n=2,At("./views/toolbar.html");case 2:return t.n=3,ot();case 3:return t.n=4,F();case 4:$(),t.n=8;break;case 5:return n.player.avatar=e,t.n=6,Nt("./views/register.html");case 6:return t.n=7,D();case 7:Y("/register");case 8:return t.a(2)}},t)}))).apply(this,arguments)}function Nt(t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Zt(Gt().m(function t(e){var n;return Gt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML=n,d(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}function At(t){return zt.apply(this,arguments)}function zt(){return(zt=Zt(Gt().m(function t(e){var n;return Gt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e).then(function(t){return t.text()});case 1:n=t.v,document.getElementById("root").innerHTML+=n,d(.05);case 2:return t.a(2)}},t)}))).apply(this,arguments)}window.addEventListener("DOMContentLoaded",function(){function t(){document.removeEventListener("click",t),document.removeEventListener("touchstart",t)}a(),Ft(),document.addEventListener("click",t,{once:!0}),document.addEventListener("touchstart",t,{once:!0})})}();